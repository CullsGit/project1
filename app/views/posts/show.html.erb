<h2><%= @post.title %></h2>

  <h3><%= link_to @post.subject.name, @post.subject %></h3>

  <p><%= @post.body %></p>

  <p>Posted by: <%= link_to @post.user.name, @post.user %> | <%= @post.created_at.strftime '%A, %B %e, %Y' %></p>


  <% if @current_user.present? %>
    <% if @current_user.id == @post.user_id %>
      <%= button_to "Remove Post", @post, :method => 'delete', :data => {:confirm => 'Are you sure?' } %>
    <% end %>
    <h2><%= @post.comments.count %> Comments</h2>
    <% @post.comments.each do |comment| %>
      <p>
        <strong><%= comment.user.name %>:</strong>
        <%= comment.body %>
      </p>
    <% if @current_user.id == comment.user_id %>
      <%= button_to "Remove Comment", [comment.post, comment], :method => 'delete', :data => {:confirm => 'Are you sure?' } %>
    <% end %>
  <% end %>

  <h2>Add a comment:</h2>
  <%= form_with(model: [ @post, @post.comments.build ], local: true) do |form| %>
    <p>
      <%= form.label :body %><br>
      <%= form.text_area :body %>
    </p>
    <p>
      <%= form.submit %>
    </p>
  <% end %>


  <% end %>
